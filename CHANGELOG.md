# 更新日志

所有此项目的版本变更都将记录在此文件中。

本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/) 规范。

## [3.0.0] - 2025-07-29

### 修复

- **健壮的降级处理**：修复了下载任务在“智能下载”失败并成功降级后，Web 界面仍显示“失败”的问题。现在，即使主下载策略失败，只要最终文件成功生成，任务状态就会被正确标记为“成功”。
- **异常处理优化**：调整了底层重试逻辑，将非重试错误的日志级别从 `ERROR` 降为 `WARNING`，并引入了特定的 `UnhandledException` 类型，以防止 Celery 错误地将初始失败解读为整个任务的最终失败状态。
- **代码缺陷修复**：修正了因拼写错误 (`DowndloaderException`) 导致的 `NameError`，该错误会导致 Web 服务器无法启动。同时，移除了对一个不存在的内部函数的调用，增强了代码的健壮性。