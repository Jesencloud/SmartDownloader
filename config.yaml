# SmartDownloader é…ç½®æ–‡ä»¶
# ä¿®æ”¹è¿™äº›å‚æ•°å¯ä»¥è‡ªå®šä¹‰ç¨‹åºè¡Œä¸ºï¼Œæ— éœ€ä¿®æ”¹ä»£ç 

# æ–‡ä»¶å¤¹å’Œè·¯å¾„è®¾ç½®
folders:
  # ä¸‹è½½æ–‡ä»¶å¤¹è®¾ç½®
  base_download_folder: "downloads"     # åŸºç¡€ä¸‹è½½æ–‡ä»¶å¤¹åç§°
  use_timestamp_folder: false           # æ˜¯å¦åœ¨ä¸‹è½½æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ—¶é—´æˆ³å­æ–‡ä»¶å¤¹ï¼ˆå·²ç¦ç”¨ï¼‰
  timestamp_format: "%Y%m%d-%H%M%S"     # æ—¶é—´æˆ³æ ¼å¼
  
  # è‡ªå®šä¹‰ä¸‹è½½è·¯å¾„ (å¦‚æœè®¾ç½®äº†æ­¤é¡¹ï¼Œä¼šå¿½ç•¥ä¸Šé¢çš„base_download_folderè®¾ç½®)
  # å–æ¶ˆä¸‹é¢çš„æ³¨é‡Šå¹¶è®¾ç½®ä¸ºä½ æƒ³è¦çš„å®Œæ•´è·¯å¾„
  # custom_download_path: "/Users/jiantai/Downloads"  # ä¾‹å¦‚: "/Users/username/MyDownloads"
  
  # ç›¸å¯¹è·¯å¾„è®¾ç½®
  relative_to_script: true              # è·¯å¾„æ˜¯å¦ç›¸å¯¹äºè„šæœ¬ä½ç½® (false=ç›¸å¯¹äºå½“å‰å·¥ä½œç›®å½•)

# ä¸‹è½½å™¨è®¾ç½®
downloader:
  # ä¿å­˜è·¯å¾„ - ä½¿ç”¨ç»å¯¹è·¯å¾„
  save_path: "/Users/jiantai/Documents/script/SmartDownloader/downloads"  # ä½¿ç”¨ç»å¯¹è·¯å¾„
  
  # é‡è¯•æœºåˆ¶
  max_retries: 3                # æœ€å¤§é‡è¯•æ¬¡æ•°
  base_delay: 10.0              # åŸºç¡€å»¶è¿Ÿç§’æ•°
  max_delay: 300.0              # æœ€å¤§å»¶è¿Ÿç§’æ•°
  backoff_factor: 2.0           # é€€é¿ç³»æ•°
  
  # ç½‘ç»œè¶…æ—¶è®¾ç½®
  network_timeout: 60           # ç½‘ç»œè¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
  stall_detection_time: 30      # åœæ»æ£€æµ‹æ—¶é—´ï¼ˆç§’ï¼‰
  stall_check_interval: 5       # åœæ»æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
  stall_threshold_count: 6      # åœæ»é˜ˆå€¼æ¬¡æ•°
  
  # ä»£ç†è®¾ç½®
  proxy_retry_base_delay: 30    # ä»£ç†é‡è¯•åŸºç¡€å»¶è¿Ÿï¼ˆç§’ï¼‰
  proxy_retry_increment: 10     # ä»£ç†é‡è¯•é€’å¢å»¶è¿Ÿï¼ˆç§’ï¼‰
  proxy_retry_max_delay: 120    # ä»£ç†é‡è¯•æœ€å¤§å»¶è¿Ÿï¼ˆç§’ï¼‰
  
  # ç†”æ–­å™¨è®¾ç½®
  circuit_breaker_failure_threshold: 5   # ç†”æ–­å™¨å¤±è´¥é˜ˆå€¼
  circuit_breaker_timeout: 300          # ç†”æ–­å™¨è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
  
  # ===== æ—§ç³»ç»Ÿé…ç½®ï¼ˆå·²åºŸå¼ƒï¼Œä¿ç•™ä¾›å‚è€ƒï¼Œå½“å‰ä¸ç”Ÿæ•ˆï¼‰ =====
  video_quality: "auto_best"            # [åºŸå¼ƒ] è§†é¢‘è´¨é‡é€‰æ‹©æ¨¡å¼ï¼ˆæ–°ç³»ç»Ÿä½¿ç”¨ytdlp_*_formaté…ç½®ï¼‰
  # å¯é€‰å€¼:
  #   - auto_best: è‡ªåŠ¨é€‰æ‹©æœ€ä½³æ ¼å¼
  #   - best:      æœ€é«˜è´¨é‡ï¼ˆä¼ ç»Ÿæ¨¡å¼ï¼‰
  #   - 4k:        4Kåˆ†è¾¨ç‡ (2160p)
  #   - 1080p:     1080påˆ†è¾¨ç‡
  #   - 720p:      720påˆ†è¾¨ç‡
  #   - 480p:      480påˆ†è¾¨ç‡
  #   - 360p:      360påˆ†è¾¨ç‡
  #   - worst:     æœ€ä½è´¨é‡
  
  video_format_preference: "any"         # [åºŸå¼ƒ] è§†é¢‘æ ¼å¼åå¥½ï¼ˆæ–°ç³»ç»Ÿä½¿ç”¨ytdlp_*_formaté…ç½®ï¼‰
  # å¯é€‰å€¼: mp4, webm, mkv, any
  
  audio_quality: "auto_best"             # [åºŸå¼ƒ] éŸ³é¢‘è´¨é‡é€‰æ‹©æ¨¡å¼ï¼ˆæ–°ç³»ç»Ÿä½¿ç”¨ytdlp_*_formaté…ç½®ï¼‰
  # å¯é€‰å€¼:
  #   - auto_best: è‡ªåŠ¨é€‰æ‹©æœ€ä½³æ ¼å¼ï¼ˆè§£æåï¼‰
  #   - best:      æœ€é«˜è´¨é‡ï¼ˆä¼ ç»Ÿæ¨¡å¼ï¼‰
  #   - 320k:      320kbpsæ¯”ç‰¹ç‡
  #   - 256k:      256kbpsæ¯”ç‰¹ç‡
  #   - 192k:      192kbpsæ¯”ç‰¹ç‡
  #   - 128k:      128kbpsæ¯”ç‰¹ç‡
  #   - 96k:       96kbpsæ¯”ç‰¹ç‡
  #   - worst:     æœ€ä½è´¨é‡
  
  audio_format_preference: "any"         # [åºŸå¼ƒ] éŸ³é¢‘æ ¼å¼åå¥½ï¼ˆæ–°ç³»ç»Ÿä½¿ç”¨ytdlp_*_formaté…ç½®ï¼‰
  # å¯é€‰å€¼: m4a, mp3, opus, aac, any
  # ===== æ—§ç³»ç»Ÿé…ç½®ç»“æŸ =====

  # ===== æ–°ç³»ç»Ÿ yt-dlp ä¸‹è½½å‘½ä»¤é…ç½® =====
  ytdlp_video_format: "bestvideo"           # è§†é¢‘æ ¼å¼é€‰æ‹©
  # æ”¯æŒçš„è§†é¢‘æ ¼å¼ï¼š
  #   - bestvideo: æœ€ä½³è§†é¢‘è´¨é‡
  #   - worst: æœ€ä½è§†é¢‘è´¨é‡  
  #   - bestvideo[height<=1080]: æœ€ä½³ä½†é™åˆ¶1080p
  #   - bestvideo[height<=720]: æœ€ä½³ä½†é™åˆ¶720p
  #   - bestvideo[ext=mp4]: æœ€ä½³mp4è§†é¢‘
  #   - bestvideo[filesize<100M]: æœ€ä½³ä½†å°äº100MB
  
  ytdlp_audio_format: "bestaudio"           # éŸ³é¢‘æ ¼å¼é€‰æ‹©
  # æ”¯æŒçš„éŸ³é¢‘æ ¼å¼ï¼š
  #   - bestaudio: æœ€ä½³éŸ³é¢‘è´¨é‡
  #   - worstaudio: æœ€ä½éŸ³é¢‘è´¨é‡
  #   - bestaudio[ext=m4a]: æœ€ä½³m4aéŸ³é¢‘
  #   - bestaudio[abr<=128]: ç ç‡ä¸è¶…è¿‡128k
  
  ytdlp_combined_format: "bestvideo+bestaudio/best"  # åˆå¹¶æ ¼å¼é€‰æ‹©
  # æ”¯æŒçš„åˆå¹¶æ ¼å¼ï¼š
  #   - "bestvideo+bestaudio/best": æœ€ä½³è§†é¢‘+éŸ³é¢‘ï¼Œå¤±è´¥æ—¶ç”¨å•æ–‡ä»¶
  #   - "best": æœ€ä½³å•ä¸ªæ–‡ä»¶
  #   - "bestvideo[height<=1080]+bestaudio/best[height<=1080]": é™åˆ¶åˆ†è¾¨ç‡
  #   - "best[ext=mp4]/best": ä¼˜å…ˆmp4æ ¼å¼
  
  ytdlp_merge_output_format: "mp4"          # åˆå¹¶è¾“å‡ºæ ¼å¼
  # æ”¯æŒçš„è¾“å‡ºæ ¼å¼ï¼šmp4, mkv, webm, avi, mov
  
  # éŸ³é¢‘æå–è®¾ç½®
  audio_extraction_mode: "direct_download"  # éŸ³é¢‘è·å–æ–¹å¼
  # å¯é€‰å€¼:
  #   - direct_download: ç»Ÿä¸€é‡‡ç”¨åœ¨çº¿ä¸‹è½½éŸ³é¢‘ï¼ˆæ¨èï¼Œauto_bestæ¨¡å¼ï¼‰
  #   - extract_from_video: ä»ä¸‹è½½çš„è§†é¢‘æ–‡ä»¶ä¸­æå–éŸ³é¢‘ï¼ˆä¼ ç»Ÿæ¨¡å¼ï¼‰
  
  # é”™è¯¯æ¨¡å¼åŒ¹é…
  retry_patterns:               # å¯é‡è¯•çš„é”™è¯¯æ¨¡å¼
    - "HTTP Error 403: Forbidden"
    - "HTTP Error 429"
    - "HTTP Error 502"
    - "HTTP Error 503"
    - "HTTP Error 504"
    - "Connection reset"
    - "Connection timed out"
    - "Network is unreachable"
    - "Temporary failure"
    - "fragment.*not found"
    - "Unable to download.*fragment"
    - "HTTP Error 5"
  
  proxy_patterns:               # ä»£ç†é”™è¯¯æ¨¡å¼
    - "Unable to connect to proxy"
    - "Connection refused"
    - "Proxy error"
    - "NewConnectionError"
    - "Failed to establish a new connection"

# æ–‡ä»¶å¤„ç†è®¾ç½®
file_processing:
  # æ–‡ä»¶åå¤„ç†
  filename_max_length: 30       # æ–‡ä»¶åæœ€å¤§é•¿åº¦
  filename_truncate_suffix: "..." # æ–‡ä»¶åæˆªæ–­åç¼€
  
  # ç­‰å¾…æ—¶é—´
  polite_wait_time: 3.0         # ä¸‹è½½é—´éš”ç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰
  
  # ä¸´æ—¶æ–‡ä»¶æ¸…ç†
  cleanup_patterns:             # æ¸…ç†çš„æ–‡ä»¶æ¨¡å¼
    - "*.part"
    - "*.part-*"
    - "*.ytdl"
    - "*.tmp.*"
    - "*.f*"
  
  # æ”¯æŒçš„åª’ä½“æ–‡ä»¶æ ¼å¼
  media_extensions:
    - ".mp4"
    - ".webm"    # YouTubeè§†é¢‘æ ¼å¼
    - ".avi"
    - ".mkv"
    - ".mov"
    - ".mp3"
    - ".m4a"
    - ".opus"    # YouTubeéŸ³é¢‘æ ¼å¼
    - ".aac"     # é€šç”¨éŸ³é¢‘æ ¼å¼
    - ".wav"
    - ".flac"

# AIå­—å¹•è®¾ç½®
ai_subtitles:
  # Whisperæ¨¡å‹è®¾ç½®
  whisper_model: "base.en"      # Whisperæ¨¡å‹ (tiny.en, base.en, small.en, medium.en, base, small, medium, large)
  whisper_device: "auto"        # è®¾å¤‡é€‰æ‹© (auto, cpu, cuda, metal)
  whisper_model_path: null      # è‡ªå®šä¹‰æ¨¡å‹è·¯å¾„
  source_language: "en"       # æºè¯­è¨€ï¼Œç”¨äºWhisperè½¬å½•å’Œç¿»è¯‘ (ä¾‹å¦‚: en, zh, auto, ko, ja, ru, es, fr, de, it, pt, ar, hi)
  
  # ç¿»è¯‘è®¾ç½®
  translate_to_chinese: true    # æ˜¯å¦ç¿»è¯‘ä¸ºä¸­æ–‡
  translator_service: "google"  # ç¿»è¯‘æœåŠ¡ (google, baidu, deepl)
  translation_batch_size: 50    # æ¯æ¬¡ç¿»è¯‘è¯·æ±‚çš„æ–‡æœ¬å—æ•°é‡
  translation_delay: 0.5        # æ¯æ¬¡ç¿»è¯‘è¯·æ±‚ä¹‹é—´çš„å»¶è¿Ÿï¼ˆç§’ï¼‰
  translation_max_retries: 3    # ç¿»è¯‘å¤±è´¥æ—¶çš„æœ€å¤§é‡è¯•æ¬¡æ•°
  translation_timeout: 30       # å•æ¬¡ç¿»è¯‘è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
  
  # å­—å¹•æ–‡ä»¶è®¾ç½®
  subtitle_formats:             # æ”¯æŒçš„å­—å¹•æ ¼å¼
    - "srt"
    - "vtt"

# æ—¥å¿—è®¾ç½®
logging:
  # æ—¥å¿—çº§åˆ« (DEBUG, INFO, WARNING, ERROR, CRITICAL)
  level: "DEBUG"
  
  # æ§åˆ¶å°æ˜¾ç¤ºçš„å…³é”®è¯
  console_keywords:
    - "ğŸš€ æ™ºèƒ½åª’ä½“ä¸‹è½½"
    - "ğŸ‰*10 å…¨éƒ¨ä»»åŠ¡å®Œæˆ"
    - "ğŸ“ æ—¥å¿—ä¸æ‰€æœ‰æ–‡ä»¶ä¿å­˜åœ¨"
  
  # æ—¥å¿—æ–‡ä»¶è®¾ç½®
  log_filename: "downloader.log"

# ç”¨æˆ·ç•Œé¢è®¾ç½®
ui:
  # è¿›åº¦æ¡è®¾ç½®
  progress_bar_width: null      # è¿›åº¦æ¡å®½åº¦ (nullä¸ºè‡ªåŠ¨)
  show_transfer_speed: true     # æ˜¾ç¤ºä¼ è¾“é€Ÿåº¦
  show_time_remaining: true     # æ˜¾ç¤ºå‰©ä½™æ—¶é—´
  
  # æ¶ˆæ¯æ˜¾ç¤º
  show_detailed_errors: true    # æ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯
  show_network_status: true     # æ˜¾ç¤ºç½‘ç»œçŠ¶æ€ä¿¡æ¯

# Cookiesè®¾ç½®
cookies:
  # Cookiesè·å–æ–¹å¼
  mode: "auto"                    # è·å–æ¨¡å¼
  # å¯é€‰å€¼:
  #   - auto: è‡ªåŠ¨æ¨¡å¼ï¼ˆä¼˜å…ˆä½¿ç”¨æ‰‹åŠ¨cookies.txtï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è‡ªåŠ¨è·å–ï¼‰
  #   - manual: ä»…ä½¿ç”¨æ‰‹åŠ¨cookies.txtæ–‡ä»¶
  #   - browser: å¼ºåˆ¶ä»æµè§ˆå™¨è‡ªåŠ¨è·å–
  #   - skip: è·³è¿‡æ‰€æœ‰cookies
  
  # æµè§ˆå™¨è®¾ç½®
  browser_type: "auto"            # æµè§ˆå™¨ç±»å‹
  # å¯é€‰å€¼: auto, chrome, firefox, edge, safari
  
  # æ–‡ä»¶è®¾ç½®
  manual_cookies_file: "cookies.txt"  # æ‰‹åŠ¨cookiesæ–‡ä»¶è·¯å¾„
  
  # è‡ªåŠ¨è·å–è®¾ç½®
  auto_extract_enabled: true      # æ˜¯å¦å¯ç”¨è‡ªåŠ¨æå–
  force_refresh: false           # æ˜¯å¦å¼ºåˆ¶åˆ·æ–°cookiesï¼ˆå³ä½¿æ‰‹åŠ¨æ–‡ä»¶å­˜åœ¨ï¼‰
  
  # ç¼“å­˜è®¾ç½®
  cache_enabled: true            # æ˜¯å¦å¯ç”¨cookiesç¼“å­˜
  cache_file: "cookies.cache.txt"  # ç¼“å­˜æ–‡ä»¶è·¯å¾„
  cache_duration_hours: 24       # ç¼“å­˜æœ‰æ•ˆæœŸï¼ˆå°æ—¶ï¼‰
  cache_check_interval: 1        # ç¼“å­˜æ£€æŸ¥é—´éš”ï¼ˆå°æ—¶ï¼‰

# é«˜çº§è®¾ç½®
advanced:
  # yt-dlpå‘½ä»¤é€‰é¡¹
  ytdlp_extra_args: []          # é¢å¤–çš„yt-dlpå‚æ•°
  
  # ç½‘ç»œæ£€æµ‹
  connectivity_test_host: "8.8.8.8"  # ç½‘ç»œè¿æ¥æµ‹è¯•ä¸»æœº
  connectivity_test_port: 53          # ç½‘ç»œè¿æ¥æµ‹è¯•ç«¯å£
  connectivity_timeout: 5             # ç½‘ç»œè¿æ¥æµ‹è¯•è¶…æ—¶
  
  # ä»£ç†æ£€æµ‹
  proxy_test_url: "http://httpbin.org/ip"  # ä»£ç†æµ‹è¯•URL
  proxy_test_timeout: 10               # ä»£ç†æµ‹è¯•è¶…æ—¶

# å®‰å…¨è®¾ç½®
security:
  # å…è®¸ä¸‹è½½çš„ç½‘ç«™åŸŸåç™½åå•ã€‚å¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œåˆ™å…è®¸æ‰€æœ‰ç½‘ç«™ã€‚
  allowed_domains:
    - "x.com"
    - "youtube.com"
    - "bilibili.com"
    - "youtu.be"